# 应用配置
server:
  port: ${SERVER_PORT:8080}

spring:
  application:
    name: liao

  # 数据库配置
  datasource:
    url: ${DB_URL:jdbc:mysql://10.10.10.90:3306/hot_img?useSSL=false&serverTimezone=Asia/Shanghai&characterEncoding=utf8&allowPublicKeyRetrieval=true}
    username: ${DB_USERNAME:root}
    password: ${DB_PASSWORD:123456}
    driver-class-name: com.mysql.cj.jdbc.Driver

  # JPA 配置
  jpa:
    hibernate:
      ddl-auto: update # 自动更新表结构
    show-sql: true
    properties:
      hibernate:
        format_sql: true
        dialect: org.hibernate.dialect.MySQLDialect

  # 文件上传配置
  servlet:
    multipart:
      max-file-size: 100MB      # 单个文件最大100MB
      max-request-size: 100MB   # 请求最大100MB

  # 静态资源配置
  web:
    resources:
      # 静态资源路径
      static-locations: classpath:/static/,classpath:/public/,classpath:/resources/,file:./upload/
      # 缓存时间（秒）
      cache:
        period: 3600

  # MVC 配置
  mvc:
    # 静态资源路径匹配
    static-path-pattern: /**

# WebSocket 配置
websocket:
  upstream:
    # 上游 WebSocket 服务地址，根据实际情况修改
    url: ${WEBSOCKET_UPSTREAM_URL:ws://localhost:9999}

# 认证配置
auth:
  # 访问码（建议设置为复杂字符串）
  access-code: ${AUTH_ACCESS_CODE:Aa305512775.}
  # JWT密钥（必须至少256位，建议64位随机字符串）
  jwt-secret: ${JWT_SECRET:your-jwt-secret-key-at-least-256-bits-long-please-change-this-to-random-string}
  # Token过期时间（小时）
  token-expire-hours: ${TOKEN_EXPIRE_HOURS:24}

# 应用配置
app:
  image-server:
    host: ${IMG_SERVER_HOST:149.88.79.98}
    port: ${IMG_SERVER_PORT:9003}
    upstream-url: ${IMG_SERVER_UPSTREAM_URL:http://v1.chat2019.cn/asmx/method.asmx/getImgServer}
