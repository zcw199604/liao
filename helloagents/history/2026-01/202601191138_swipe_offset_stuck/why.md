# 变更提案: 修复列表横滑偏移卡住

## 需求背景
在聊天侧边栏 `ChatSidebar` 中，“消息/收藏”列表区域支持左右滑动切换 Tab，并提供跟手的横向位移反馈。当前在横向滑动距离未达到切换阈值时，列表仍会产生 `translateX` 偏移，但松手后不会复位，导致列表“偏移后固定在那无法恢复”。

## 变更内容
1. 在 swipe 交互封装中补充“手势结束必执行”的回调，用于做 UI 复位/清理。
2. `ChatSidebar` 在手势结束时统一回弹复位，不再依赖“是否触发 Tab 切换阈值”来执行复位逻辑。

## 影响范围
- **模块:** 前端聊天 UI（ChatSidebar 手势交互）
- **文件:**
  - `frontend/src/composables/useInteraction.ts`
  - `frontend/src/components/chat/ChatSidebar.vue`
  - `frontend/src/__tests__/useInteraction.test.ts`（新增/调整）
- **API:** 无
- **数据:** 无

## 核心场景

### 需求: 列表横滑后不应残留偏移
**模块:** ChatSidebar

用户在“消息/收藏”列表区域进行横向滑动（无论是否达到切换阈值），松手后列表应回弹复位到 0 偏移；达到阈值时同时完成 Tab 切换。

#### 场景: 阈值内横滑
在列表区域横向滑动，但滑动距离未达到切换阈值后松手。
- 预期结果: 不切换 Tab
- 预期结果: 列表回弹复位到 0 偏移
- 预期结果: 不出现“残留偏移/卡住”

#### 场景: 阈值外横滑
在列表区域横向滑动，滑动距离达到切换阈值后松手。
- 预期结果: 切换 Tab（消息 ↔ 收藏）
- 预期结果: 列表回弹复位到 0 偏移

## 风险评估
- **风险:** 修改 swipe 抽象可能影响其他调用方的手势行为
- **缓解:** 保持 `onSwipeEnd` 的阈值语义不变，仅新增可选回调；补充单元测试覆盖阈值内/外两种路径，降低回归风险

