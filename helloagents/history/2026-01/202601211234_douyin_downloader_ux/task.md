# 任务清单（轻量迭代）

> **目标**：根据 Gemini 评审建议，完善“抖音下载”前端交互与必要后端支撑能力（批量操作、进度反馈、安全提示、剪贴板自动填充等）。

## 任务

- [√] 调整导入上传交互：导入成功后不强制关闭弹窗/跳转，列表与预览中标记“导入中/已导入/已存在”，并提供“打开上传菜单”入口
- [√] 增加批量操作：多选模式 + 全选/清空 + “下载选中/导入选中”，并提供批量进度反馈
- [√] 增强敏感信息提示：Cookie 默认折叠、显式安全提示（本地保存/公共设备风险）与一键清除
- [√] 增强剪贴板体验：打开弹窗自动尝试读取剪贴板并填充（可开关），可选“自动解析”
- [√] 展示文件元信息：解析结果中展示大小/时长/分辨率（可用则显示），并在加载失败时降级
- [√] 增强失败提示：针对疑似 Cookie 失效/网络错误给出更明确的引导并高亮配置区
- [√] 通用下载/上传按钮反馈：MediaPreview 上传按钮支持 disabled/loading/text（不破坏现有调用方）
- [√] 后端补齐：`HEAD /api/douyin/download` 返回 `Content-Length/Type`（用于前端探测大小），`/api/douyin/import` 返回 `dedup` 标记
- [√] 更新知识库：补充模块文档与 API 文档说明
- [√] 验证：`go test ./...` + `cd frontend && npm run build`

## 验证

- [√] 图集：可多选批量下载/导入，且可在列表看到逐项状态
- [√] 视频：下载/导入有明确 loading，导入后不关闭弹窗且可继续操作
- [√] Cookie/Proxy：解析失败时能提示可能原因并引导填写/更新
