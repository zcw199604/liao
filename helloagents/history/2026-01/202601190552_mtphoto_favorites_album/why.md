# 变更提案: mtPhoto 相册列表新增收藏夹入口

## 需求背景
当前 mtPhoto 弹窗仅展示 mtPhoto 的相册列表，无法直接浏览“收藏夹”中的媒体。用户需要在相册列表中增加一个“收藏夹”入口，并保证该入口始终置顶，且暂不展示封面预览图。

## 产品分析

### 目标用户与场景
- **用户群体:** 需要快速从 mtPhoto 中挑选常用/收藏素材并导入到本地媒体库的用户
- **使用场景:** 打开“mtPhoto 相册”弹窗后，优先进入收藏夹查看已收藏的素材，并进行预览/导入上传
- **核心痛点:** 收藏素材分散在相册中查找成本高；缺少“收藏夹”入口导致路径冗长

### 价值主张与成功指标
- **价值主张:** 在相册列表提供稳定、置顶的“收藏夹”入口，降低收藏素材的访问成本
- **成功指标:** 用户可在 1 次点击内进入收藏夹并浏览媒体；预览与导入上传链路与普通相册一致

### 人文关怀
收藏夹属于用户偏好内容聚合，展示时不额外暴露敏感信息；封面预览暂为空以避免误展示不希望被置顶暴露的内容（后续如需封面将由明确需求驱动）。

## 变更内容
1. 在 mtPhoto 相册列表顶部新增“收藏夹”入口（置顶），封面预览为空。
2. 点击“收藏夹”后，使用 mtPhoto 上游 `filesV2/1?listVer=v2` 的数据展示收藏夹媒体，并复用现有媒体网格/瀑布流、预览、导入上传能力。
3. 收藏夹数量在进入收藏夹后可根据接口返回 `total` 同步更新（相册列表打开时不额外发起收藏夹查询，避免性能损耗）。

## 影响范围
- **模块:**
  - 前端：mtPhoto 相册弹窗（相册列表/相册媒体视图）
- **文件:**
  - `frontend/src/stores/mtphoto.ts`
  - `frontend/src/components/media/MtPhotoAlbumModal.vue`（如需补充展示细节）
- **API:**
  - 复用：`GET /api/getMtPhotoAlbumFiles?albumId=1&page=...&pageSize=...`（后端再代理到 mtPhoto `/api-album/filesV2/1?listVer=v2`）
- **数据:** 无

## 核心场景

### 需求: 相册列表显示收藏夹入口
**模块:** 前端 mtPhoto
在 mtPhoto 相册列表中展示“收藏夹”入口，并保证其在所有相册之前。

#### 场景: 打开 mtPhoto 相册弹窗
用户打开弹窗后：
- 相册列表首项为“收藏夹”
- “收藏夹”无封面预览图（使用占位/空态）

### 需求: 浏览收藏夹媒体
**模块:** 前端 mtPhoto
用户点击“收藏夹”后进入媒体列表，展示收藏夹中的图片/视频，并可预览与导入上传。

#### 场景: 点击收藏夹并滚动加载
用户点击“收藏夹”后：
- 能正常加载并展示收藏夹媒体（分页加载）
- 图片可进入预览并左右切换（在已加载图片范围内）
- 点击“上传”可按现有逻辑导入上传当前预览媒体

## 风险评估
- **风险:** 上游相册列表可能存在与收藏夹重复的条目（例如同为 ID=1），导致列表重复或 key 冲突
- **缓解:** 在前端引入“本地唯一ID + 上游 albumId 映射”的模型；并对上游返回的潜在重复项做过滤/去重
